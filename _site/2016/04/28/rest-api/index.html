<!DOCTYPE html>
<html>

  <head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Rest Api</title>
	<meta name="description" content="Use RESTful service URLs">
	
	<link rel="canonical" href="http://localhost:4000/2016/04/28/rest-api/">
	<link rel="alternate" type="application/rss+xml" title="Rakib Hasan's Blog" href="http://localhost:4000/feed.xml" />
	
	<!-- <link rel="stylesheet" href="/css/main.css"> -->
    
    <link rel="stylesheet" type="text/css" href="/static/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/static/css/index.css">
    <link rel="stylesheet" type="text/css" href="/static/css/custom.css">
	<script type="text/javascript" src="/static/js/jquery-1.11.1.min.js"></script>
	<script type="text/javascript" src="/static/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="/static/css/monokai_sublime.min.css">
	<script type="text/javascript" src="/static/js/highlight.min.js"></script>

    <!--
    <link rel="stylesheet" type="text/css" href="http://apps.bdimg.com/libs/bootstrap/3.3.0/css/bootstrap.min.css">
	<script type="text/javascript" src="http://apps.bdimg.com/libs/jquery/2.1.1/jquery.min.js"></script>
	<script type="text/javascript" src="http://apps.bdimg.com/libs/bootstrap/3.3.0/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="http://apps.bdimg.com/libs/highlight.js/8.4/styles/monokai_sublime.min.css">
	<script type="text/javascript" src="http://apps.bdimg.com/libs/highlight.js/8.4/highlight.min.js"></script>
    -->
    
	<script type="text/javascript" src="/static/js/index.js"></script>
	<script>hljs.initHighlightingOnLoad();</script>
</head>

 <!--  <body data-spy="scroll" data-target="#myAffix"> -->
  <body>

    <header>

<!-- navbar -->
  <nav class="navbar navbar-inverse">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">Rakib Hasan's Blog</a>
      <p class="navbar-text"></p>
    </div>
    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav navbar-right">

        
          <li>
        
        <a href="/">Home</a></li>

        
          
            
              <li>
            
            <a href="/projects/"><span class="glyphicon "></span> Projects</a></li>
          
        
          
            
              <li>
            
            <a href="/about-me/"><span class="glyphicon "></span> About Me</a></li>
          
        
          
        
          
        
      </ul>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>

</header>

    <div id="main" class="container main">
      <div class="row">
  <div id="myArticle" class="col-sm-9">
    <div class="post-area post">
      <header>
        <h1>Rest Api</h1>
        <p>Apr 28, 2016</p>
      </header>
      <hr>
      <article>
        <h3 id="use-restful-service-urls">Use RESTful service URLs</h3>

<p>Under REST principles, a URL identifies a resource. The following URL design patterns are considered REST best practices:</p>

<ul>
  <li>URLs should include nouns, not verbs.</li>
  <li>Use plural nouns only for consistency (no singular nouns).</li>
  <li>Use HTTP methods (HTTP/1.1) to operate on these resources:</li>
  <li>Use HTTP response status codes to represent the outcome of operations on resources.</li>
</ul>

<h5 id="should">Should</h5>

<p>Agencies should consistently apply RESTful design patterns for API URLs.</p>

<h3 id="versioning">Versioning</h3>

<p>Example of an API URL that contains a version number:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>GET /v1/path/to/resource HTTP/1.1
Host: www.example.gov.au
Accept: application/json, text/javascript
</code></pre>
</div>

<h5 id="may">May</h5>

<p>An API URL may contain a version number.</p>

<p>See versioning for more details.</p>

<h5 id="should-1">Should</h5>

<p>If an API URL does not contain a version number (anonymous version), then it should be understood that it always refers to the latest version.</p>

<h5 id="should-not">Should Not</h5>

<p>Anonymous API versions should not be considered stable, because the latest version changes with each release.</p>
<h3 id="formats">Formats</h3>

<p>Allow users to request formats like JSON or XML, for example:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>http://example.gov/api/v1/magazines.json
http://example.gov/api/v1/magazines.xml
</code></pre>
</div>

<h3 id="url-depth">URL Depth</h3>

<p>The resource/identifier/resource URL pattern is sufficient for full attribute visibility between any resources. Therefor, this URL depth is usually sufficient to support any arbitrary resource graph. If your URL design goes deeper than resource/identifier/resource, it may be evidence that the granularity of your API is too coarse.</p>

<h5 id="recommended">Recommended</h5>

<p>Avoid URL designs deeper than resource/identifier/resource.</p>

<h5 id="may-1">May</h5>

<p>If your API has URLs deeper than resource/identifier/resource, consider revisiting the granularity of your API design.</p>

<h3 id="api-payload-formats">API Payload formats</h3>

<p>To interact with an API, a consumer needs to be able to produce and consume messages in the appropriate format. For a sucessful interaction both parties would need to be able to process (parse and generate) these messages.</p>

<h5 id="should-not-1">Should Not</h5>

<p>Agency APIs should not produce or consume messages in a propietary format. This is because open formats maximise interoperability and reduce costs and risks associated with API utilisation.</p>

<h5 id="may-2">May</h5>

<p>Agency APIs may support multiple (open) payload formats. For example, it is not unusual for an API endpoint to support both JSON and XML formats.
API Payload format encoding</p>

<p>To interact with an API, the consumer needs to know how the payload is encoded. This is true regardless of how many encoding formats the endpoint supports.</p>

<h5 id="should-not-2">Should Not</h5>

<p>Agencies should not rely on documentation alone to inform consumers about payload encoding. This is generally poor affordance.</p>

<p>The three patterns of payload format encoding most frequently found in the wild are:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>HTTP headers (e.g. Content-Type: and Accept:)
GET parameters (e.g. &amp;format=json)
resource label (e.g. /foo.json)
</code></pre>
</div>

<p>Using HTTP headers to specifying payload format can be convenient, however unfortunately not all clients handle headers consistently. Using HTTP headers alone will create issues for buggy clients.</p>

<p>Using GET parameters to specify format is another common pattern for specifying the encoding of API payloads. This results in slightly longer URLs than resource label technique, and can occasionally create problems with caching behavior of some proxy servers.</p>

<p>Resource label specification of API payload format, such as /foo/{id}.json, are functionally equivalent to GET parameter encoding but without the (admittedly rare) proxy caching issues.</p>

<h5 id="should-2">Should</h5>

<p>Agency APIs should consider supplimenting URL-based format speficications with HTTP header based format specification (e.g. Content-Type: and Accept:).</p>

<h5 id="should-3">Should</h5>

<p>Agency APIs should consider use resource labels to indicate payload format, e.g. /foo/{id}.json.</p>

<h5 id="should-4">Should</h5>

<p>If GET parameter based payload format specification is chosen, the potential impact of proxy caching and URL length issues should be evaluated.</p>

<h3 id="good-restful-url-examples">Good RESTful URL examples</h3>

<h5 id="list-of-magazines">List of magazines:</h5>

<div class="highlighter-rouge"><pre class="highlight"><code>GET /api/v1/magazines.json HTTP/1.1
Host: www.example.gov.au
Accept: application/json, text/javascript
</code></pre>
</div>

<h5 id="filtering-and-sorting-are-server-side-operations-on-resources">Filtering and sorting are server-side operations on resources:</h5>

<div class="highlighter-rouge"><pre class="highlight"><code>GET /api/v1/magazines.json?year=2011&amp;sort=desc HTTP/1.1
Host: www.example.gov.au
Accept: application/json, text/javascript
</code></pre>
</div>

<h5 id="a-single-magazine-in-json-format">A single magazine in JSON format:</h5>

<div class="highlighter-rouge"><pre class="highlight"><code>GET /api/v1/magazines/1234.json HTTP/1.1
Host: www.example.gov.au
Accept: application/json, text/javascript
</code></pre>
</div>

<h5 id="all-articles-in-or-belonging-to-this-magazine">All articles in (or belonging to) this magazine:</h5>

<div class="highlighter-rouge"><pre class="highlight"><code>GET /api/v1/magazines/1234/articles.json HTTP/1.1
Host: www.example.gov.au
Accept: application/json, text/javascript
</code></pre>
</div>

<h5 id="all-articles-in-this-magazine-in-xml-format">All articles in this magazine in XML format:</h5>

<div class="highlighter-rouge"><pre class="highlight"><code>GET /api/v1/magazines/1234/articles.xml HTTP/1.1
Host: www.example.gov.au
Accept: application/json, text/javascript
</code></pre>
</div>

<h5 id="specify-query-parameters-in-a-comma-separated-list">Specify query parameters in a comma separated list:</h5>

<div class="highlighter-rouge"><pre class="highlight"><code>GET /api/v1/magazines/1234.json?fields=title,subtitle,date HTTP/1.1
Host: www.example.gov.au
Accept: application/json, text/javascript
</code></pre>
</div>

<h5 id="add-a-new-article-to-a-particular-magazine">Add a new article to a particular magazine:</h5>

<div class="highlighter-rouge"><pre class="highlight"><code>POST /api/v1/magazines/1234/articles.json HTTP/1.1
Host: www.example.gov.au
Accept: application/json, text/javascript
</code></pre>
</div>

<h3 id="bad-restful-url-examples">Bad RESTful URL examples</h3>

<h5 id="non-plural-noun">Non-plural noun:</h5>

<div class="highlighter-rouge"><pre class="highlight"><code>GET /magazine HTTP/1.1
Host: www.example.gov.au
Accept: application/json, text/javascript
</code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code>GET /magazine/1234 HTTP/1.1
Host: www.example.gov.au
Accept: application/json, text/javascript
</code></pre>
</div>

<h5 id="verb-in-url">Verb in URL:</h5>

<div class="highlighter-rouge"><pre class="highlight"><code>GET /magazine/1234/create HTTP/1.1
Host: www.example.gov.au
Accept: application/json, text/javascript
</code></pre>
</div>

<h5 id="filter-outside-of-query-string">Filter outside of query string:</h5>

<div class="highlighter-rouge"><pre class="highlight"><code>GET /magazines/2011/desc HTTP/1.1
Host: www.example.gov.au
Accept: application/json, text/javascript
</code></pre>
</div>

<h3 id="use-versions">Use versions</h3>

<h5 id="never-release-an-api-without-a-version-number">Never release an API without a version number.</h5>

<p>Versions should be integers, not decimal numbers, prefixed with ‘v’. For example:</p>

<p>Good: v1, v2, v3</p>

<p>Bad: v-1.1, v1.2, 1.3</p>

<p>Maintain APIs at least one version back.</p>

<h3 id="use-http-methods-and-status-codes">Use HTTP methods and status codes</h3>

<p>Meaningful status codes helps consumers utilise your API.</p>

<h5 id="should-5">Should</h5>

<p>HTTP methods and status codes should be used in compliance with their definitions under the HTTP/1.1 standard.</p>

<p>The action taken on the representation will be contextual to the media type being worked on and its current state.
Examples</p>

<h5 id="get-magazines">GET /magazines</h5>
<p>List all magazines contained within the /magazines resource</p>

<div class="highlighter-rouge"><pre class="highlight"><code>GET /magazines HTTP/1.1
Host: example.gov.au
Accept: application/json, text/javascript
</code></pre>
</div>

<p>A response of “200 OK” indicating that the request has succeeded.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>HTTP/1.1 200 OK
Vary: Accept
Content-Type: text/javascript

{...}
</code></pre>
</div>

<h5 id="status-codes">Status Codes:</h5>

<div class="highlighter-rouge"><pre class="highlight"><code>200 OK – no error
404 Not Found – the “magazines” resource does not exist
</code></pre>
</div>

<h5 id="post-magazines">POST /magazines</h5>

<p>Create new magazine within the /magazines resource</p>

<div class="highlighter-rouge"><pre class="highlight"><code>POST /magazines HTTP/1.1
Host: example.gov.au
Accept: application/json, text/javascript

{...}
</code></pre>
</div>

<p>A response of “201 Created” indicates that the request has been fulfilled.</p>

<p>The URI of the new resource is provided in the response</p>

<div class="highlighter-rouge"><pre class="highlight"><code>HTTP/1.1 201 Created
Vary: Accept
Content-Type: text/javascript

{ "id": "1234" }
</code></pre>
</div>

<h3 id="batching-results">Batching results</h3>

<p>If no limit is specified, return results with a default limit.</p>

<h5 id="to-get-records-51-through-75-do-this">To get records 51 through 75 do this:</h5>

<div class="highlighter-rouge"><pre class="highlight"><code>GET /magazines?limit=25&amp;offset=50 HTTP/1.1
Host: example.gov.au
Accept: application/json, text/javascript

offset=50 means, ‘skip the first 50 records’

limit=25 means, ‘return a maximum of 25 records’
</code></pre>
</div>

<p>Information about record limits and total available count should also be included in the response. Example:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>HTTP/1.1 200 OK
Vary: Accept
Content-Type: text/javascript

{
  "metadata": {
    "resultset": {
      "count": 227,
      "offset": 25,
      "limit": 25
    }
  },
  "results": [...]
</code></pre>
</div>

<h3 id="mock-behaviour">Mock behaviour</h3>

<p>It is suggested that each resource accept a ‘mock’ parameter on the testing server. Passing this parameter should return a mock data response (bypassing the back-end).</p>

<p>Implementing this feature early in development ensures that the API will exhibit consistent behaviour, supporting a test-driven development methodology.</p>

<p>Mock features compliment interface specification documents, facilitating development of applications that reuse an API. When supplying client libraries or reference implementations for use with an API, mocking features can be implemented at that layer as an alternative to the API itself.</p>
<h5 id="example-1---get-mock-list-of-magazines">Example 1 - GET mock list of magazines</h5>

<p>Request mock list of magazines</p>

<div class="highlighter-rouge"><pre class="highlight"><code>GET /api/v1/magazines.json?mock=True HTTP/1.1
Host: example.gov.au
Accept: application/json, text/javascript
</code></pre>
</div>

<p>Response list of mock magazines</p>

<div class="highlighter-rouge"><pre class="highlight"><code>HTTP/1.1 200 OK
Vary: Accept
Content-Type: text/javascript

{
  "metadata": {
    "resultset": {
      "count": 123,
      "offset": 0,
      "limit": 10
    }
  },
  "results": [
    {
      "id": "1234",
      "type": "magazine",
      "title": "Public Water Systems",
      "tags": [
        {"id": "125", "name": "Environment", “url”: “http://api.example.gov.au/v1/tags/125”},
        {"id": "834", "name": "Water Quality"}
      ],
      "created": "1231621302"
    },
    {
      "id": 2351,
      "type": "magazine",
      "title": "Public Schools",
      "tags": [
        {"id": "125", "name": "Elementary"},
        {"id": "834", "name": "Charter Schools"}
      ],
      "created": "126251302"
    }
  ]
}
</code></pre>
</div>

<h4 id="example-2---get-individual-mock-magazine">Example 2 - GET individual mock magazine</h4>

<p>Request mock magazine</p>

<div class="highlighter-rouge"><pre class="highlight"><code>GET /api/v1/magazines/1234?format=json&amp;mock=True HTTP/1.1
Host: example.gov.au
Accept: application/json, text/javascript
</code></pre>
</div>

<p>Response mock magazine</p>

<div class="highlighter-rouge"><pre class="highlight"><code>HTTP/1.1 200 OK
Vary: Accept
Content-Type: text/javascript

{
  "id": "1234",
  "type": "magazine",
  "title": "Public Water Systems",
  "tags": [
    {"id": "125", "name": "Environment"},
    {"id": "834", "name": "Water Quality"}
  ],
  "created": "1231621302"
}
</code></pre>
</div>

<h4 id="example-3---post-article-to-mock-magazine">Example 3 - POST article to mock magazine</h4>

<p>Post an article to mock magazine 1234</p>

<div class="highlighter-rouge"><pre class="highlight"><code>POST /api/v1/magazines/1234/articles?mock=True HTTP/1.1
Host: example.gov.au
Accept: application/json, text/javascript

{
  "title": "Raising Revenue",
  "author_first_name": "Jane",
  "author_last_name": "Smith",
  "author_email": "jane.smith@example.gov",
  "date": "2014-06-22",
  "text": "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam eget ante ut augue..."
}
</code></pre>
</div>

<h5 id="note">Note</h5>

<p>This method would not result in an article being posted, it is only a simulation.</p>

<p><a href="http://apiguide.readthedocs.io/en/latest/build_and_publish/index.html">Source Link</a></p>


      </article>
      <hr>
        <div class="bdsharebuttonbox">
            <a href="#" class="bds_more" data-cmd="more"></a>
            <a href="#" class="bds_tsina" data-cmd="tsina" title="Share to Sina Weibo"></a>
            <a href="#" class="bds_weixin" data-cmd="weixin" title="Share to WeChat"></a>
            <a href="#" class="bds_douban" data-cmd="douban" title="Share to Douban"></a>
            <a href="#" class="bds_fbook" data-cmd="fbook" title="Share to Facebook"></a>
            <a href="#" class="bds_copy" data-cmd="copy" title="Copy Share URL"></a>
        </div>
        <script>
            window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"1","bdSize":"24"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js'];
        </script>
    </div>
	
    <!-- duoshuo.com javascript include code. -->    
    
    <!-- disqus.com javascript include code. -->
	
    <div class="post-area post comment">
        <div id="disqus_thread"></div>
    </div>
	<script>
		var disqus_config = function () {
			this.page.url = "https://rakib09.github.io/2016/04/28/rest-api/"; 
			this.page.identifier = "/2016/04/28/rest-api"; 
		};
		(function() {
			var d = document, s = d.createElement('script');
			s.src = '//https-rakib09-github-io.disqus.com/embed.js';
			s.setAttribute('data-timestamp', +new Date());
			(d.head || d.body).appendChild(s);
		})();
	</script>
	
    
  </div>
  
  <div id="content" class="col-sm-3">
    <!-- <div id="myAffix" class="shadow-bottom-center hidden-xs" data-spy="affix" data-offset-top="0" data-offset-bottom="-20"> -->
    <div id="myAffix" class="shadow-bottom-center hidden-xs" >
      <div class="categories-list-header">
        Content
      </div>
      <div class="content-text"></div>
    </div>
  </div>
  
</div>
    </div>

    
    <div id="top" data-toggle="tooltip" data-placement="left" title="back to top">
      <a href="javascript:;">
        <div class="arrow"></div>
        <div class="stick"></div>
      </a>
    </div>

    <footer class="">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <a href="mailto:rakib_hasan6@yahoo.com"><span class="glyphicon glyphicon-envelope"></span> rakib_hasan6@yahoo.com</a>
        <span class="point"> · </span>
        
          <a href="https://github.com/rakib09">
            <span class="icon">
              <svg viewBox="0 0 16 16">
                <path fill="#aaa" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
              </svg>
            </span>
            Github
            <!-- <span>rakib09</span> -->
          </a>
          
          <span class="point"> · </span>
          <span><a href="https://github.com/rakib09/rakib09.github.io/_posts/rest-api/2016-04-28-rest-api.md">View source</a></span>
          <span class="point"> · </span>
          <span><a class="newpost" href="javascript:;">New post</a></span>
		  <span class="point"> · </span>
          <span><a href="/feed.xml">RSS</a></span>
          <span class="point"> · </span>
          <span>&copy; 2015 Rakib Hasan</span>
      </div>
    </div>
  </div>
</footer>

    <script type="text/javascript">
    function OnClickNewPost()
    {
        var title = prompt("Please enter title of your post");
        if (title!=null){
            title = title.replace(" ", "-");
            var currentdate = new Date();
            var urlNewPage = "https://github.com/rakib09/?filename=_posts/" 
                + currentdate.getFullYear() + "-" + (currentdate.getMonth()+1) + "-" + currentdate.getDate() + "-" + title + ".md";
                
            var defaultText =  [
                '---',
                'layout: post',
                'comments: true',
                'categories: diary',
                '---',
                '## Title',
                'text'
                ].join('\n');
            urlNewPage += "&value=" + encodeURIComponent(defaultText);
            window.open(urlNewPage);
        }
    }
    
    $(function() {
      // CreateNewPostLinks
      $('.newpost').each(function(){
          $(this).click(OnClickNewPost);
      });
    });
</script>
  
  </body>
</html>
